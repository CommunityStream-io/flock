---
layout: default
---

<div class="doc-header">
  {% if page.icon %}
    <span class="doc-icon">{{ page.icon }}</span>
  {% endif %}
  <h1 class="doc-title">{{ page.title | default: page.name }}</h1>
  {% if page.description %}
    <p class="doc-description">{{ page.description }}</p>
  {% endif %}
</div>

<div class="doc-content">
  {{ content }}
</div>

<!-- Table of Contents (if enabled) -->
{% if page.toc != false %}
  <div class="toc-container" id="toc-container">
    <button class="toc-toggle" id="toc-toggle" aria-label="Toggle table of contents">
      <i class="fas fa-list"></i> Contents
    </button>
    <nav class="toc" id="toc">
      <!-- Generated by JavaScript -->
    </nav>
  </div>
{% endif %}

<!-- Previous/Next Navigation -->
{% if page.nav_order or page.parent %}
  <nav class="doc-navigation">
    <div class="nav-links">
      {% assign pages = site.pages | concat: site.docs | concat: site.architecture | concat: site.testing %}
      {% assign sorted_pages = pages | sort: 'nav_order' %}
      
      {% for p in sorted_pages %}
        {% if p.url == page.url %}
          {% assign current_index = forloop.index %}
          {% break %}
        {% endif %}
      {% endfor %}
      
      {% assign prev_page = sorted_pages[current_index] %}
      {% assign next_page = sorted_pages[current_index] %}
      
      {% if current_index > 1 %}
        {% assign prev_index = current_index | minus: 2 %}
        {% assign prev_page = sorted_pages[prev_index] %}
      {% endif %}
      
      {% if current_index < sorted_pages.size %}
        {% assign next_page = sorted_pages[current_index] %}
      {% endif %}
      
      <div class="nav-prev">
        {% if prev_page and prev_page.url != page.url %}
          <a href="{{ prev_page.url | relative_url }}" class="nav-link prev">
            <i class="fas fa-arrow-left"></i>
            <span>{{ prev_page.title | default: prev_page.name }}</span>
          </a>
        {% endif %}
      </div>
      
      <div class="nav-next">
        {% if next_page and next_page.url != page.url %}
          <a href="{{ next_page.url | relative_url }}" class="nav-link next">
            <span>{{ next_page.title | default: next_page.name }}</span>
            <i class="fas fa-arrow-right"></i>
          </a>
        {% endif %}
      </div>
    </div>
  </nav>
{% endif %}